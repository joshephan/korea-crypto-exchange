---
description: 
globs: 
alwaysApply: true
---
This project exposes a **single public module** named:

It provides a unified interface for accessing Korean cryptocurrency exchanges through a **Facade + Strategy** design pattern architecture.

---

## ğŸ¯ Purpose

To abstract away the differences between **Upbit** and **Bithumb** exchanges while allowing developers to switch or extend trading strategies seamlessly.

---

## ğŸ§± Architectural Patterns

### âœ… Facade Pattern

- `ExchangeFacade` acts as the main interface.
- It delegates tasks to internal strategies without exposing implementation details.

### âœ… Strategy Pattern

Each exchange (Upbit, Bithumb) defines:
- `quotation.ts` for price data
- `websocket.ts` for real-time stream handling
- `exchange.ts` for placing orders

All strategies conform to shared TypeScript interfaces defined in `core/types.ts`.

---

## ğŸ“ Directory Structure

/src
â”‚
â”œâ”€â”€ core/                    # Common types and util functions
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ logger.ts
â”‚
â”œâ”€â”€ strategies/             # Strategy Objects
â”‚   â”œâ”€â”€ upbit/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ quotation.ts
â”‚   â”‚   â””â”€â”€ websocket.ts
â”‚   â”‚   â””â”€â”€ exchange.ts
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â””â”€â”€ bithumb/
â”‚       â”œâ”€â”€ index.ts
â”‚       â””â”€â”€ quotation.ts
â”‚       â””â”€â”€ websocket.ts
â”‚       â””â”€â”€ exchange.ts
â”‚       â””â”€â”€ types.ts
â”‚
â”œâ”€â”€ facade/                 # Facade: Core module
â”‚   â”œâ”€â”€ ExchangeFacade.ts
â”‚   â””â”€â”€ ExchangeSelector.ts
â”‚
â”œâ”€â”€ index.ts                # Entry
â””â”€â”€ config.ts

## ğŸ”Œ Public Module: KoreaCryptoExchange

```ts
// src/index.ts
import { ExchangeFacade } from './facade/ExchangeFacade';
import { ExchangeSelector } from './facade/ExchangeSelector';

const KoreaCryptoExchange = new ExchangeFacade(new ExchangeSelector().select());

export default KoreaCryptoExchange;

```

ğŸ’¡ How to Extend
To add a new exchange (e.g. Coinone):

Create /strategies/coinone/

Add: quotation.ts, websocket.ts, exchange.ts

Add: index.ts to export all three

Update ExchangeSelector.ts to support the new provider

All modules must implement the shared interface contracts.

âœ… Interface Contract (core/types.ts)

```ts
export interface IQuotation {
  getPrice(symbol: string): Promise<number>;
}

export interface IWebSocket {
  connect(): void;
  disconnect(): void;
}

export interface IExchangeStrategy {
  placeOrder(symbol: string, amount: number): Promise<string>;
}
```

ğŸš€ Design Goals
Fully typed using TypeScript

Modular and extensible exchange strategy architecture

Exports one public object: KoreaCryptoExchange

Easily adaptable to additional providers or new trading logic

